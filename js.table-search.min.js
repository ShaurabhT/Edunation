var tableSearch=function(selector,text_to_search,no_records_msg="No records found",highlight=false){if(selector.length>0){var text_to_search=text_to_search.split(" ");var tableRef,tbodyRef,trRef;if(document.getElementById(selector)!==null){performSearchOperation(document.getElementById(selector));}
else if(document.getElementsByClassName(selector).length>0){var tables=document.getElementsByClassName(selector);for(var i=0;i<tables.length;i++){performSearchOperation(tables[i]);}}}
function performSearchOperation(selector){setInitialValues(selector);removeExistingNoRecordFoundRows();showMatchedRows();var visible_rows=tbodyRef.querySelectorAll('tr:not([style="display: none;"])').length;if(visible_rows==0){addNoRecordFoundRow();}}
function setInitialValues(selector){tableRef=selector;tbodyRef=tableRef.querySelector("tbody");trRef=tbodyRef.querySelectorAll("tr");}
function removeExistingNoRecordFoundRows(){var noRecordRows=tbodyRef.querySelectorAll("tr.no-record-row");for(var i=0;i<noRecordRows.length;i++){tbodyRef.removeChild(noRecordRows[i]);}}
function showMatchedRows(){for(var i=0;i<trRef.length;i++){var row_data=trRef[i].innerText;var found=true;for(var textIterator=0;textIterator<text_to_search.length;textIterator++){if(((row_data.toLowerCase()).indexOf(text_to_search[textIterator].toLowerCase())==-1)){if(text_to_search[textIterator]!=","){trRef[i].style.display="none";found=false;break;}}}
if(found){trRef[i].style.display="table-row";if(highlight){highlite(trRef[i],text_to_search);}}}}
function addNoRecordFoundRow(){var ColumnSpan=tableRef.querySelectorAll("thead tr th").length;var noRecordRow=document.createElement("tr");noRecordRow.className="no-record-row";var tdToInsert=document.createElement("td");tdToInsert.colSpan=ColumnSpan;tdToInsert.align="center";tdToInsert.innerHTML=no_records_msg;noRecordRow.appendChild(tdToInsert);var lastRow=tableRef.querySelector("tbody tr:last-child");lastRow.parentNode.insertBefore(noRecordRow,lastRow.nextSibling);}
function highlite(thisRow,search_arr_local){columns=thisRow.children;for(var cells=0;cells<columns.length;cells++){var temp=columns[cells].innerText;temp=temp.replace(/<(\/)?span([^>]*)>/gi,"");columns[cells].innerText=temp;var columnText=columns[cells].innerText.toLowerCase();if(columnText.search(/<img[^>]*>/gi)>=0){return;}
var regex_str_to_add="";for(var index in search_arr_local){if(search_arr_local[index]!=""){if(search_arr_local[index]=="."||search_arr_local[index]=="*"||search_arr_local[index]=="?"){regex_str_to_add+="(\\"+search_arr_local[index]+")|";}
else{regex_str_to_add+="("+search_arr_local[index]+")|";}}}
regex_str_to_add=regex_str_to_add.substring(0,regex_str_to_add.length-1);var myRegex=new RegExp(regex_str_to_add,"gi");if(search_arr_local[0]!="")
{temp=temp.replace(myRegex,function(matched)
{return'<span class="highlight">'+matched+'</span>'});columns[cells].innerHTML=temp;}}}}